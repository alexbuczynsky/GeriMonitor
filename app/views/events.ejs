<!doctype html>
<!--[if lt IE 7]>      <html class="no-js lt-ie9 lt-ie8 lt-ie7" lang=""> <![endif]-->
<!--[if IE 7]>         <html class="no-js lt-ie9 lt-ie8" lang=""> <![endif]-->
<!--[if IE 8]>         <html class="no-js lt-ie9" lang=""> <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang=""> <!--<![endif]-->
<%- include('standard-resources/header.ejs') %>
<head>
    <link rel="stylesheet" href="assets/css/lib/datatable/dataTables.bootstrap.min.css">
</head>
<body>
        <!-- Left Panel -->
    <%- include('panels/left-panel/left-panel.ejs') %>
      <!-- Left Panel -->

    <!-- Right Panel -->

    <div id="right-panel" class="right-panel">

        <!-- Header-->
        <%- include('panels/right-panel/header.ejs') %>
        <!-- Header-->

        <%- include('panels/right-panel/breadcrumbs.ejs',{pageName:'Events'}) %>

        <div class="content mt-3">
            <div class="animated fadeIn">
                <div class="row">

                <div class="col-md-12">
                    <div class="card">
                        <div class="card-header">
                            <strong class="card-title">Data Table</strong>
                        </div>
                        <div class="card-body">
                  <table id="bootstrap-data-table" class="table table-striped table-bordered">
                    <thead>
                      <tr>
                        <% Object.keys(events[0]).forEach(headerName => { %> 
                          <% if(!headerName.includes("file")){ %>
                            <th><%= headerName %></th>
                          <% } %>
                        <% }) %>
                        <th>snapshot</th>
                      </tr>
                    </thead>
                    <tbody>
                      <% events.forEach(event => { %> 
                        <tr>
                          <% Object.keys(events[0]).forEach(headerName => { %> 
                            <% if(!headerName.includes("file")){ %>
                              <td><%= event[headerName] %></td>
                            <% } %>
                          <% }) %>
                          <td><a style="color: blue" href="/api/snapshots/<%= event.snapshot_file_name %>.<%= event.snapshot_file_extension %>" target="_blank">
                            <img style="width:300px" src="/api/snapshots/<%= event.snapshot_file_name %>.<%= event.snapshot_file_extension %>">
                          </a></td>
                        </tr>
                      <% }) %>
                    </tbody>
                  </table>
                        </div>
                    </div>
                </div>


                </div>
            </div><!-- .animated -->
        </div><!-- .content -->


    </div><!-- /#right-panel -->

    <!-- Right Panel -->


    <script src="assets/js/vendor/jquery-2.1.4.min.js"></script>
    <script src="assets/js/popper.min.js"></script>
    <script src="assets/js/plugins.js"></script>
    <script src="assets/js/main.js"></script>


    <script src="assets/js/lib/data-table/datatables.min.js"></script>
    <script src="assets/js/lib/data-table/dataTables.bootstrap.min.js"></script>
    <script src="assets/js/lib/data-table/dataTables.buttons.min.js"></script>
    <script src="assets/js/lib/data-table/buttons.bootstrap.min.js"></script>
    <script src="assets/js/lib/data-table/jszip.min.js"></script>
    <script src="assets/js/lib/data-table/pdfmake.min.js"></script>
    <script src="assets/js/lib/data-table/vfs_fonts.js"></script>
    <script src="assets/js/lib/data-table/buttons.html5.min.js"></script>
    <script src="assets/js/lib/data-table/buttons.print.min.js"></script>
    <script src="assets/js/lib/data-table/buttons.colVis.min.js"></script>
    <script src="assets/js/lib/data-table/datatables-init.js"></script>


    <script type="text/javascript">
        $(document).ready(function() {
          $('#bootstrap-data-table-export').DataTable();
        } );
    </script>


</body>
</html>
